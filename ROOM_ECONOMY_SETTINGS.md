# üéÆ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –µ–∫–æ–Ω–æ–º—ñ–∫–∏ –∫—ñ–º–Ω–∞—Ç–∏

## –û–≥–ª—è–¥

–ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∫—ñ–º–Ω–∞—Ç–∏ —Ç–µ–ø–µ—Ä –º–æ–∂–Ω–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –µ–∫–æ–Ω–æ–º—ñ–∫—É –≥—Ä–∏.

## üîß –î–æ—Å—Ç—É–ø–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏

### 1. –°—Ç–∞—Ä—Ç–æ–≤—ñ –≥—Ä–æ—à—ñ (Starting Money)

–ü–æ—á–∞—Ç–∫–æ–≤–∞ —Å—É–º–∞ –≥—Ä–æ—à–µ–π –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è.

**–î–æ—Å—Ç—É–ø–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è:**

- 500 –∑–æ–ª–æ—Ç–∞ - –±—ñ–¥–Ω–∏–π —Å—Ç–∞—Ä—Ç
- 1000 –∑–æ–ª–æ—Ç–∞ - —Å—Ç–∞–Ω–¥–∞—Ä—Ç (default)
- 1500 –∑–æ–ª–æ—Ç–∞ - –∫–æ–º—Ñ–æ—Ä—Ç–Ω–∏–π —Å—Ç–∞—Ä—Ç
- 2000 –∑–æ–ª–æ—Ç–∞ - –±–∞–≥–∞—Ç–∏–π —Å—Ç–∞—Ä—Ç
- 3000 –∑–æ–ª–æ—Ç–∞ - –¥—É–∂–µ –±–∞–≥–∞—Ç–∏–π —Å—Ç–∞—Ä—Ç

### 2. –î–æ—Ö—ñ–¥ –∑–∞ —Ä–∞—É–Ω–¥ (Round Income)

–°–∫—ñ–ª—å–∫–∏ –≥—Ä–æ—à–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º—É—î –≥—Ä–∞–≤–µ—Ü—å –Ω–∞ –ø–æ—á–∞—Ç–∫—É –∫–æ–∂–Ω–æ–≥–æ —Ä–∞—É–Ω–¥—É.

**–î–æ—Å—Ç—É–ø–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è:**

- 0 - –±–µ–∑ –¥–æ—Ö–æ–¥—É (—Ç—ñ–ª—å–∫–∏ —Å—Ç–∞—Ä—Ç–æ–≤—ñ –≥—Ä–æ—à—ñ)
- 100 –∑–æ–ª–æ—Ç–∞ - –Ω–∏–∑—å–∫–∏–π –¥–æ—Ö—ñ–¥
- 200 –∑–æ–ª–æ—Ç–∞ - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –¥–æ—Ö—ñ–¥ (default)
- 300 –∑–æ–ª–æ—Ç–∞ - –≤–∏—Å–æ–∫–∏–π –¥–æ—Ö—ñ–¥
- 500 –∑–æ–ª–æ—Ç–∞ - –¥—É–∂–µ –≤–∏—Å–æ–∫–∏–π –¥–æ—Ö—ñ–¥

### 3. –ú–∞–∫—Å–∏–º—É–º —é–Ω—ñ—Ç—ñ–≤ (Max Unit Limit)

–°–∫—ñ–ª—å–∫–∏ —é–Ω—ñ—Ç—ñ–≤ –º–∞–∫—Å–∏–º—É–º –º–æ–∂–µ –º–∞—Ç–∏ –æ–¥–∏–Ω –≥—Ä–∞–≤–µ—Ü—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ.

**–î–æ—Å—Ç—É–ø–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è:**

- 10 —é–Ω—ñ—Ç—ñ–≤ - –º–∞–ª–æ —é–Ω—ñ—Ç—ñ–≤, —Ç–∞–∫—Ç–∏—á–Ω–∞ –≥—Ä–∞
- 15 —é–Ω—ñ—Ç—ñ–≤ - —Å–µ—Ä–µ–¥–Ω—è –∞—Ä–º—ñ—è
- 20 —é–Ω—ñ—Ç—ñ–≤ - —Å—Ç–∞–Ω–¥–∞—Ä—Ç (default)
- 25 —é–Ω—ñ—Ç—ñ–≤ - –≤–µ–ª–∏–∫–∞ –∞—Ä–º—ñ—è
- 30 —é–Ω—ñ—Ç—ñ–≤ - –¥—É–∂–µ –≤–µ–ª–∏–∫–∞ –∞—Ä–º—ñ—è
- 50 —é–Ω—ñ—Ç—ñ–≤ - –µ–ø—ñ—á–Ω–∞ –±–∏—Ç–≤–∞

## üìä –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

### –®–≤–∏–¥–∫–∞ –≥—Ä–∞ (Quick Game)

- **–°—Ç–∞—Ä—Ç–æ–≤—ñ –≥—Ä–æ—à—ñ:** 3000
- **–î–æ—Ö—ñ–¥ –∑–∞ —Ä–∞—É–Ω–¥:** 500
- **–ú–∞–∫—Å —é–Ω—ñ—Ç—ñ–≤:** 30
- **–û–ø–∏—Å:** –®–≤–∏–¥–∫–∞ –¥–∏–Ω–∞–º—ñ—á–Ω–∞ –≥—Ä–∞ –∑ –≤–µ–ª–∏–∫–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é —Ä–µ—Å—É—Ä—Å—ñ–≤

### –ó–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–∞ –≥—Ä–∞ (Balanced)

- **–°—Ç–∞—Ä—Ç–æ–≤—ñ –≥—Ä–æ—à—ñ:** 1000
- **–î–æ—Ö—ñ–¥ –∑–∞ —Ä–∞—É–Ω–¥:** 200
- **–ú–∞–∫—Å —é–Ω—ñ—Ç—ñ–≤:** 20
- **–û–ø–∏—Å:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–∞ –≥—Ä–∞ (default)

### –ï–∫–æ–Ω–æ–º–Ω–∞ –≥—Ä–∞ (Economy)

- **–°—Ç–∞—Ä—Ç–æ–≤—ñ –≥—Ä–æ—à—ñ:** 500
- **–î–æ—Ö—ñ–¥ –∑–∞ —Ä–∞—É–Ω–¥:** 100
- **–ú–∞–∫—Å —é–Ω—ñ—Ç—ñ–≤:** 15
- **–û–ø–∏—Å:** –ö–æ–∂–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è –º–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è, —Ç—Ä–µ–±–∞ –µ–∫–æ–Ω–æ–º–∏—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏

### –¢–∞–∫—Ç–∏—á–Ω–∞ –≥—Ä–∞ (Tactical)

- **–°—Ç–∞—Ä—Ç–æ–≤—ñ –≥—Ä–æ—à—ñ:** 1000
- **–î–æ—Ö—ñ–¥ –∑–∞ —Ä–∞—É–Ω–¥:** 0
- **–ú–∞–∫—Å —é–Ω—ñ—Ç—ñ–≤:** 10
- **–û–ø–∏—Å:** –¢—ñ–ª—å–∫–∏ —Å—Ç–∞—Ä—Ç–æ–≤—ñ –≥—Ä–æ—à—ñ, –Ω–µ–º–∞—î –¥–æ—Ö–æ–¥—É. –¢—Ä–µ–±–∞ –ø–ª–∞–Ω—É–≤–∞—Ç–∏ –∫–æ–∂–Ω—É –ø–æ–∫—É–ø–∫—É

### –ï–ø—ñ—á–Ω–∞ –±–∏—Ç–≤–∞ (Epic Battle)

- **–°—Ç–∞—Ä—Ç–æ–≤—ñ –≥—Ä–æ—à—ñ:** 2000
- **–î–æ—Ö—ñ–¥ –∑–∞ —Ä–∞—É–Ω–¥:** 300
- **–ú–∞–∫—Å —é–Ω—ñ—Ç—ñ–≤:** 50
- **–û–ø–∏—Å:** –ú–∞—Å—à—Ç–∞–±–Ω—ñ –±–∏—Ç–≤–∏ –∑ –≤–µ–ª–∏–∫–∏–º–∏ –∞—Ä–º—ñ—è–º–∏

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

### –î–æ–¥–∞–Ω—ñ —Å—Ç–æ–≤–ø—Ü—ñ –≤ —Ç–∞–±–ª–∏—Ü—é `game_rooms`:

```sql
ALTER TABLE game_rooms
ADD COLUMN player1_money INT DEFAULT 1000,
ADD COLUMN player2_money INT DEFAULT 1000,
ADD COLUMN player1_unit_limit INT DEFAULT 0,
ADD COLUMN player2_unit_limit INT DEFAULT 0,
ADD COLUMN max_unit_limit INT DEFAULT 20,
ADD COLUMN round_income INT DEFAULT 200;
```

### –ú—ñ–≥—Ä–∞—Ü—ñ—è

–ó–∞–ø—É—Å—Ç–∏—Ç–∏ SQL —Ñ–∞–π–ª: `server/migration_add_round_income.sql`

## üîÑ –Ø–∫ –ø—Ä–∞—Ü—é—î –¥–æ—Ö—ñ–¥

1. **–ü–æ—á–∞—Ç–æ–∫ —Ä–∞—É–Ω–¥—É** - –≥—Ä–∞–≤—Ü—ñ —Ä–æ–∑–º—ñ—â—É—é—Ç—å —é–Ω—ñ—Ç—ñ–≤
2. **–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å** - –æ–±–∏–¥–≤–∞ –≥—Ä–∞–≤—Ü—ñ –Ω–∞—Ç–∏—Å–∫–∞—é—Ç—å "–ì–û–¢–û–í–ò–ô"
3. **–ë—ñ–π** - —é–Ω—ñ—Ç–∏ –∞—Ç–∞–∫—É—é—Ç—å –æ–¥–∏–Ω –æ–¥–Ω–æ–≥–æ
4. **–ö—ñ–Ω–µ—Ü—å —Ä–∞—É–Ω–¥—É** - –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –ø–µ—Ä–µ–º–æ–∂–µ—Ü—å
5. **–ù–æ–≤–∏–π —Ä–∞—É–Ω–¥** - üéÅ **–¢–£–¢ –ù–ê–†–ê–•–û–í–£–Ñ–¢–¨–°–Ø –î–û–•–Ü–î**
6. –ü–æ–≤—Ç–æ—Ä –∑ –ø—É–Ω–∫—Ç—É 1

### –ü—Ä–∏–∫–ª–∞–¥:

```
–†–∞—É–Ω–¥ 1: –ì—Ä–∞–≤–µ—Ü—å –º–∞—î 1000 –∑–æ–ª–æ—Ç–∞
  - –ö—É–ø–∏–≤ —é–Ω—ñ—Ç–∞ –∑–∞ 100 –∑–æ–ª–æ—Ç–∞
  - –ó–∞–ª–∏—à–∏–ª–æ—Å—å: 900 –∑–æ–ª–æ—Ç–∞

–†–∞—É–Ω–¥ 2 (–¥–æ—Ö—ñ–¥ +200):
  - –û—Ç—Ä–∏–º–∞–≤: 200 –∑–æ–ª–æ—Ç–∞
  - –¢–µ–ø–µ—Ä –º–∞—î: 1100 –∑–æ–ª–æ—Ç–∞
  - –ö—É–ø–∏–≤ —é–Ω—ñ—Ç–∞ –∑–∞ 250 –∑–æ–ª–æ—Ç–∞
  - –ó–∞–ª–∏—à–∏–ª–æ—Å—å: 850 –∑–æ–ª–æ—Ç–∞

–†–∞—É–Ω–¥ 3 (–¥–æ—Ö—ñ–¥ +200):
  - –û—Ç—Ä–∏–º–∞–≤: 200 –∑–æ–ª–æ—Ç–∞
  - –¢–µ–ø–µ—Ä –º–∞—î: 1050 –∑–æ–ª–æ—Ç–∞
```

## üìù API Endpoints

### –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Ö—ñ–¥ –∫—ñ–º–Ω–∞—Ç–∏

```javascript
fetch("../server/room.php?action=get_round_income", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({ room_id: roomId }),
})
  .then((res) => res.json())
  .then((data) => console.log("–î–æ—Ö—ñ–¥ –∑–∞ —Ä–∞—É–Ω–¥:", data.round_income));
```

## üí° –ü–æ—Ä–∞–¥–∏

1. **–í–∏—Å–æ–∫–∞ –µ–∫–æ–Ω–æ–º—ñ–∫–∞** (–±–∞–≥–∞—Ç–æ –≥—Ä–æ—à–µ–π + –≤–∏—Å–æ–∫–∏–π –¥–æ—Ö—ñ–¥):

   - –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –Ω–æ–≤–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤
   - –ú–æ–∂–Ω–∞ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —é–Ω—ñ—Ç–∞–º–∏
   - –ú–µ–Ω—à–µ —Å—Ç—Ä–µ—Å—É –ø—Ä–æ —Ä–µ—Å—É—Ä—Å–∏

2. **–ù–∏–∑—å–∫–∞ –µ–∫–æ–Ω–æ–º—ñ–∫–∞** (–º–∞–ª–æ –≥—Ä–æ—à–µ–π + –Ω–∏–∑—å–∫–∏–π –¥–æ—Ö—ñ–¥):

   - –î–ª—è –¥–æ—Å–≤—ñ–¥—á–µ–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤
   - –ö–æ–∂–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è –≤–∞–∂–ª–∏–≤–µ
   - –ü–æ—Ç—Ä—ñ–±–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è

3. **–ë–µ–∑ –¥–æ—Ö–æ–¥—É** (round_income = 0):

   - –ï–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∏–π —Ä–µ–∂–∏–º
   - –¢—ñ–ª—å–∫–∏ —Å—Ç–∞—Ä—Ç–æ–≤—ñ –≥—Ä–æ—à—ñ
   - –¢—Ä–µ–±–∞ —Ä–æ–∑—É–º–Ω–æ –≤–∏—Ç—Ä–∞—á–∞—Ç–∏

4. **–û–±–º–µ–∂–µ–Ω–Ω—è —é–Ω—ñ—Ç—ñ–≤:**
   - –ú–∞–ª–∏–π –ª—ñ–º—ñ—Ç (10-15) = —Ç–∞–∫—Ç–∏—á–Ω–∞ –≥—Ä–∞
   - –í–µ–ª–∏–∫–∏–π –ª—ñ–º—ñ—Ç (30-50) = –º–∞—Å—à—Ç–∞–±–Ω—ñ –±–∏—Ç–≤–∏
