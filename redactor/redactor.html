<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Animation Editor</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: Arial, sans-serif;
        display: flex;
        flex-direction: row;
        align-items: flex-start;
        justify-content: center;
        gap: 20px;
        background-color: #2b2b2b;
        color: #fff;
        padding: 20px;
        height: 100vh;
      }

      canvas {
        border: 2px solid #444;
        background-color: #1e1e1e;
        max-width: 100%;
        height: auto;
      }

      .controls {
        display: flex;
        flex-direction: column;
        gap: 15px;
        background: #3a3a3a;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0px 0px 10px rgba(255, 255, 255, 0.1);
        max-width: 350px;
      }

      .frame-attr {
        flex-direction: row !important;
        justify-content: space-between;
      }

      .controls div {
        display: flex;
        flex-direction: column;
        gap: 5px;
      }

      button {
        padding: 10px;
        border: none;
        background: #ff9800;
        color: white;
        font-size: 14px;
        border-radius: 5px;
        cursor: pointer;
        transition: background 0.3s;
      }

      button:hover {
        background: #e68900;
      }

      #saveConfig {
        background: #009921;
      }

      #logConfig {
        background: #0068a5;
      }

      #saveConfig:hover {
        background: #048600;
      }

      #logConfig:hover {
        background: #00559b;
      }

      button:disabled {
        background: #555 !important;
        color: #aaa !important;
        cursor: not-allowed !important;
      }

      input[type="number"] {
        width: 70px;
      }

      input[type="number"]::-webkit-inner-spin-button,
      input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none; /* Приховує стрілки в Chrome, Safari */
        margin: 0;
      }

      input,
      select {
        padding: 8px;
        border: 1px solid #555;
        background: #222;
        color: white;
        border-radius: 5px;
      }

      input:disabled,
      select:disabled {
        background: #333 !important;
        color: #777 !important;
        cursor: not-allowed !important;
      }

      label {
        font-size: 14px;
      }

      .frame-controls {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: space-between;
      }

      .frame-controls div {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
      }

      /* Preview canvas container */
      .preview-container {
        display: flex;
        flex-direction: column;
        gap: 10px;
        background: #3a3a3a;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0px 0px 10px rgba(255, 255, 255, 0.1);
      }

      #previewCanvas {
        background-color: #1e1e1e;
      }

      .preview-title {
        font-size: 16px;
        text-align: center;
        /* margin-bottom: 5px; */
      }
      
  
  #zoomSlider {
    /* width: 200px; */
    vertical-align: middle;
  }
  
  #zoomValue {
    display: inline-block;
    width: 50px;
    text-align: left;
    margin-left: 5px;
  }
    </style>
  </head>
  <body>
    <div>
      <!-- Preview container -->
      <div class="preview-container">
        <div class="preview-title">Animation Preview</div>
        <canvas id="previewCanvas" width="400" height="500"></canvas>
      </div>
      <!-- Add the mirrored preview container -->
      <div class="preview-container">
        <div class="preview-title">Mirrored Animation Preview</div>
        <canvas id="mirroredPreviewCanvas" width="400" height="500"></canvas>
      </div>
    </div>

    <canvas id="canvas" width="1300" height="900"></canvas>

    <div class="controls">
      <!-- Add this after existing controls -->
      <div>
        <label for="zoomSlider">Zoom:</label>
        <input
          type="range"
          id="zoomSlider"
          min="0.5"
          max="3"
          step="0.1"
          value="1"
        />
        <span id="zoomValue">100%</span>
      </div>

      

    <div class="controls">
      <div>
        <label for="imageLoader">Upload Spritesheet:</label>
        <input type="file" id="imageLoader" />
      </div>

      <div>
        <label for="spritesheets">Spritesheets:</label>
        <select id="spritesheets"></select>
        <button id="addSpritesheet">Add</button>
        <button id="removeSpritesheet">Remove</button>
      </div>

      <div>
        <label for="animations">Animations:</label>
        <select id="animations"></select>
        <button id="newAnimation">New</button>
        <button id="deleteAnimation">Delete</button>
      </div>

      <div>
        <button id="newFrame">New Frame</button>
        <button id="deleteFrame">Delete Frame</button>
      </div>

      <div>
        <label for="frameSlider">Frame:</label>
        <input type="range" id="frameSlider" value="0" />
      </div>

      <div class="frame-controls">
        <!-- <div class="frame-attr">
          <label for="frameSelectionToggle">Selection:</label>
          <input type="checkbox" id="frameSelectionToggle" />
        </div> -->
        <div class="frame-attr">
          <label for="frameX">X:</label>
          <input type="number" id="frameX" />
          <label for="frameY">Y:</label>
          <input type="number" id="frameY" />
        </div>
        <div class="frame-attr">
          <label for="frameWidth">W:</label>
          <input type="number" id="frameWidth" />
          <label for="frameHeight">H:</label>
          <input type="number" id="frameHeight" />
        </div>
        <div class="frame-attr">
          <label for="centerX">CX:</label>
          <input type="number" id="centerX" />
          <label for="centerY">CY:</label>
          <input type="number" id="centerY" />
        </div>
        <div class="frame-attr">
          <label for="bulletPointX">BX:</label>
          <input type="number" id="bulletPointX" />
          <label for="bulletPointY">BY:</label>
          <input type="number" id="bulletPointY" />
        </div>
      </div>

      <div>
        <button id="loadConfig">Load Config</button>
        <button id="saveConfig">Save Config</button>
        <button id="logConfig">Log Config</button>
      </div>
    </div>

    <script type="module" src="redactor.js"></script>
  </body>
</html>
